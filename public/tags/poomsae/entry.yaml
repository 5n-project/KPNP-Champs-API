paths:
  /competition/{competitionSeq}/entries/competitors:
    get:
      summary: 대회 운영에 입장 - 선수목록 조회
      description: 특정 대회의 선수 목록을 조회한다.
      tags:
        - 운영 - 입장
      parameters:
        - name: competitionSeq
          in: path
          required: true
          schema:
            type: integer
          description: 대회의 고유 시퀀스
        - name: divisionCode
          in: query
          required: false
          schema:
            type: string
          description: 대회룰 code
        - name: divisionCategoryCode
          in: query
          required: false
          schema:
            type: string
          description: 대회유형 code
        - name: departmentCode
          in: query
          required: false
          schema:
            type: string
          description: 부별 code
        - name: keyword
          in: query
          required: false
          schema:
            type: string
          description: 선수명 검색
        - name: limit
          in: query
          required: false
          schema:
            type: integer
          description: 한페이지당 보여줄 갯수
        - name: pageNum
          in: query
          required: false
          schema:
            type: integer
          description: 페이지 번호 (0부터 시작)
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      list:
                        type: array
                        items:
                          type: object
                          properties:
                            competitorEntrySeq:
                              type: integer
                              example: 12
                              description: "선수 입장 seq"
                            participantSeq:
                              type: integer
                              example: 54644
                              description: "참가자 고유 seq"
                            teamSeq:
                              type: integer
                              nullable: true
                              description: "팀 고유 seq (null이면 개인전인 거)"
                            givenNameEn:
                              type: string
                              example: Sofia
                              description: "이름 (영문)"
                            familyNameEn:
                              type: string
                              example: Perez
                              description: "성 (영문)"
                            gender:
                              type: string
                              example: F
                              description: "성별 (M/F)"
                            countryNocCode:
                              type: string
                              example: CHN
                              description: "국가 NOC 코드"
                            team:
                              type: string
                              example: China National Team
                              description: "소속"
                            age:
                              type: integer
                              example: 39
                              description: "나이"
                            divisionCode:
                              type: string
                              example: "00"
                              description: "대회 룰 코드"
                            divisionCategoryCode:
                              type: string
                              example: "B1"
                              description: "대회 유형 코드"
                            departmentCode:
                              type: string
                              example: "A02"
                              description: "부 코드"
                            divisionNameKo:
                              type: string
                              example: "WT 공인품새룰"
                              description: "룰명 (한글)"
                            divisionCategoryNameKo:
                              type: string
                              example: "여자개인"
                              description: "대회 유형명 (한글)"
                            departmentNameKo:
                              type: string
                              example: "30세 이하"
                              description: "부명 (한글)"
                            divisionNameEn:
                              type: string
                              example: "WT Recognized Poomsae"
                              description: "룰명 (영문)"
                            divisionCategoryNameEn:
                              type: string
                              example: "Individual female"
                              description: "대회 유형명 (영문)"
                            departmentNameEn:
                              type: string
                              example: "Under 30"
                              description: "부명 (영문)"
                            isOpenRule:
                              type: boolean
                              example: false
                              description: "오픈대회 여부"
                            openDepartmentMinAge:
                              type: integer
                              nullable: true
                              example: null
                              description: "오픈대회 최소 나이"
                            openDepartmentMaxAge:
                              type: integer
                              nullable: true
                              example: null
                              description: "오픈대회 최대 나이"
                            entryConfirmYn:
                              type: string
                              example: "N"
                              description: "입정 여부 (Y/N)"
                            managerNumber:
                              type: string
                              nullable: true
                              description: "입장 확인 매니저 번호"
                  error:
                    type: string
                    nullable: true
              examples:
                SUCCESS:
                  summary: 성공 응답
                  value:
                    {
                      "success": true,
                      "data": {
                        "list": [
                          {
                            "competitorEntrySeq": 41,
                            "participantSeq": 63233,
                            "teamSeq": null,
                            "givenNameEn": "Jim",
                            "familyNameEn": "Ericson",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "오픈대회팀",
                            "age": 32,
                            "divisionCode": "04",
                            "divisionCategoryCode": "B0",
                            "departmentCode": "14~30",
                            "divisionNameKo": "오픈대회 공인품새",
                            "divisionCategoryNameKo": "남자개인",
                            "departmentNameKo": "14~30",
                            "divisionNameEn": "Open Recognized Poomsae",
                            "divisionCategoryNameEn": "Individual male",
                            "departmentNameEn": "14~30",
                            "isOpenRule": true,
                            "openDepartmentMinAge": 14,
                            "openDepartmentMaxAge": 30,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 27,
                            "participantSeq": 54659,
                            "teamSeq": 11,
                            "givenNameEn": "Emma",
                            "familyNameEn": "Harris",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "멋쟁이 한길팀",
                            "age": 30,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 26,
                            "participantSeq": 54658,
                            "teamSeq": 11,
                            "givenNameEn": "Isabella",
                            "familyNameEn": "Moore",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "멋쟁이 한길팀",
                            "age": 23,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 25,
                            "participantSeq": 54657,
                            "teamSeq": 11,
                            "givenNameEn": "Liam",
                            "familyNameEn": "Anderson",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "멋쟁이 한길팀",
                            "age": 32,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 24,
                            "participantSeq": 54656,
                            "teamSeq": 11,
                            "givenNameEn": "Noah",
                            "familyNameEn": "Taylor",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "멋쟁이 한길팀",
                            "age": 28,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 29,
                            "participantSeq": 54661,
                            "teamSeq": 13,
                            "givenNameEn": "Ava",
                            "familyNameEn": "Martinez",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "귀여운 건희짱팀",
                            "age": 28,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 31,
                            "participantSeq": 54663,
                            "teamSeq": 13,
                            "givenNameEn": "Charlotte",
                            "familyNameEn": "Davis",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "귀여운 건희짱팀",
                            "age": 23,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 32,
                            "participantSeq": 54664,
                            "teamSeq": 13,
                            "givenNameEn": "Henry",
                            "familyNameEn": "Clark",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "귀여운 건희짱팀",
                            "age": 30,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          },
                          {
                            "competitorEntrySeq": 30,
                            "participantSeq": 54662,
                            "teamSeq": 13,
                            "givenNameEn": "Lucas",
                            "familyNameEn": "Lee",
                            "gender": "M",
                            "countryNocCode": "CHN",
                            "team": "귀여운 건희짱팀",
                            "age": 32,
                            "divisionCode": "00",
                            "divisionCategoryCode": "B2",
                            "departmentCode": "A04",
                            "divisionNameKo": "WT 공인품새룰",
                            "divisionCategoryNameKo": "남자단체",
                            "departmentNameKo": "50세 이하",
                            "divisionNameEn": "WT Recognized Poomsae",
                            "divisionCategoryNameEn": "Team male",
                            "departmentNameEn": "Under 50",
                            "isOpenRule": false,
                            "openDepartmentMinAge": null,
                            "openDepartmentMaxAge": null,
                            "entryConfirmYn": "N",
                            "managerNumber": null
                          }
                        ],
                        "total": 42,
                        "pageNum": 1
                      },
                      "error": null
                    }
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                $ref: '../../openapi.yml#/components/responses/Error'
              examples:
                IS_NOT_AUTHORIZED:
                  $ref: '../../openapi.yml#/components/examples/IS_NOT_AUTHORIZED'

  /competition/{competitionSeq}/entries/competitors/{competitorEntrySeq}:
    get:
      summary: 대회 운영에 입장 - 선수상세 조회
      description: 특정 대회의 개별 선수 상세 정보를 조회한다.
      tags:
        - 운영 - 입장
      parameters:
        - name: competitionSeq
          in: path
          required: true
          schema:
            type: integer
          description: 대회의 고유 시퀀스
        - name: competitorEntrySeq
          in: path
          required: true
          schema:
            type: integer
          description: 선수 입장 고유 시퀀스
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      competitorEntrySeq:
                        type: integer
                        example: 42
                        description: "선수 입장 seq"
                      participantSeq:
                        type: integer
                        example: 63234
                        description: "참가자 고유 seq"
                      firstNameEn:
                        type: string
                        example: "Gildong"
                        description: "이름 (영문)"
                      lastNameEn:
                        type: string
                        example: "Hong"
                        description: "성 (영문)"
                      firstName:
                        type: string
                        example: "길동"
                        description: "이름 (한글)"
                      lastName:
                        type: string
                        example: "짭"
                        description: "성 (한글)"
                      memId:
                        type: string
                        example: "champs1"
                        description: "회원 아이디"
                      ranking:
                        type: integer
                        example: 9
                        description: "선수 랭킹"
                      bmi:
                        type: number
                        format: float
                        example: 0.00216
                        description: "선수 체질량지수 (BMI)"
                      belt:
                        type: string
                        nullable: true
                        example: null
                        description: "벨트 (없을 수 있음)"
                      height:
                        type: number
                        format: float
                        example: 180.0
                        description: "키 (cm)"
                      gender:
                        type: string
                        example: "F"
                        description: "성별 (M/F)"
                      countryNameKo:
                        type: string
                        example: "중국"
                        description: "국가명 (한글)"
                      countryNameEn:
                        type: string
                        example: "China"
                        description: "국가명 (영문)"
                      team:
                        type: string
                        example: "홍길동팀"
                        description: "팀명"
                      age:
                        type: integer
                        example: 22
                        description: "나이"
                      profileImageUrl:
                        type: string
                        example: "https://example.com/images/profile.jpg"
                        description: "프로필 이미지 URL"
                      divisionNameKo:
                        type: string
                        example: "WT 공인품새룰"
                        description: "룰명 (한글)"
                      divisionCategoryNameKo:
                        type: string
                        example: "여자개인"
                        description: "대회 유형명 (한글)"
                      departmentNameKo:
                        type: string
                        example: "30세 이하"
                        description: "부명 (한글)"
                      divisionNameEn:
                        type: string
                        example: "WT Recognized Poomsae"
                        description: "룰명 (영문)"
                      divisionCategoryNameEn:
                        type: string
                        example: "Individual female"
                        description: "대회 유형명 (영문)"
                      departmentNameEn:
                        type: string
                        example: "Under 30"
                        description: "부명 (영문)"
                      latestDivisionNameKo:
                        type: string
                        nullable: true
                        example: null
                        description: "최근 출전한 룰명 (한글)"
                      latestDivisionCategoryNameKo:
                        type: string
                        nullable: true
                        example: null
                        description: "최근 출전한 대회 유형명 (한글)"
                      latestDepartmentNameKo:
                        type: string
                        nullable: true
                        example: null
                        description: "최근 출전한 부명 (한글)"
                      latestDivisionNameEn:
                        type: string
                        nullable: true
                        example: null
                        description: "최근 출전한 룰명 (영문)"
                      latestDivisionCategoryNameEn:
                        type: string
                        nullable: true
                        example: null
                        description: "최근 출전한 대회 유형명 (영문)"
                      latestDepartmentNameEn:
                        type: string
                        nullable: true
                        example: null
                        description: "최근 출전한 부명 (영문)"
                  error:
                    type: string
                    nullable: true
              examples:
                SUCCESS:
                  summary: 성공 응답
                  value:
                    {
                      "success": true,
                      "data": {
                        "competitorEntrySeq": 42,
                        "participantSeq": 63234,
                        "firstNameEn": "Gildong",
                        "lastNameEn": "Hong",
                        "firstName": "길동",
                        "lastName": "짭",
                        "memId": "champs1",
                        "ranking": 9,
                        "bmi": 0.00216,
                        "belt": null,
                        "height": 180.0,
                        "gender": "F",
                        "countryNameKo": "중국",
                        "countryNameEn": "China",
                        "team": "홍길동팀",
                        "age": 22,
                        "profileImageUrl": "https://example.com/images/profile.jpg",
                        "divisionNameKo": "WT 공인품새룰",
                        "divisionCategoryNameKo": "여자개인",
                        "departmentNameKo": "30세 이하",
                        "divisionNameEn": "WT Recognized Poomsae",
                        "divisionCategoryNameEn": "Individual female",
                        "departmentNameEn": "Under 30",
                        "latestDivisionNameKo": null,
                        "latestDivisionCategoryNameKo": null,
                        "latestDepartmentNameKo": null,
                        "latestDivisionNameEn": null,
                        "latestDivisionCategoryNameEn": null,
                        "latestDepartmentNameEn": null
                      },
                      "error": null
                    }
                USER_DOES_NOT_EXIST:
                  $ref: '../../openapi.yml#/components/examples/USER_DOES_NOT_EXIST'
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                $ref: '../../openapi.yml#/components/responses/Error'
              examples:
                IS_NOT_AUTHORIZED:
                  $ref: '../../openapi.yml#/components/examples/IS_NOT_AUTHORIZED'

  /competition/{competitionSeq}/entries/competitors/{competitorEntrySeq}/entry-status:
    put:
      summary: 대회 운영에 입장 - 참가선수 입장확인 (입장 완료 or 입장 취소) - notion 실시간 소켓 확인
      description: 특정 대회에서 참가선수의 입장 여부를 변경한다. (입장 완료 Y / 입장 취소 N)
      tags:
        - 운영 - 입장
      parameters:
        - name: competitionSeq
          in: path
          required: true
          schema:
            type: integer
          description: 대회의 고유 시퀀스
        - name: competitorEntrySeq
          in: path
          required: true
          schema:
            type: integer
          description: 선수 입장 seq
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                entryConfirmYn:
                  type: string
                  enum: [ Y, N ]
                  description: 입장 여부 (Y=입장 완료, N=입장 취소)
                  example: Y
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    nullable: true
                  error:
                    type: string
                    nullable: true
              examples:
                SUCCESS:
                  summary: 성공 응답
                  value:
                    {
                      "success": true,
                      "data": null,
                      "error": null
                    }
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                $ref: '../../openapi.yml#/components/responses/Error'
              examples:
                IS_NOT_AUTHORIZED:
                  $ref: '../../openapi.yml#/components/examples/IS_NOT_AUTHORIZED'

  /competition/entries/competitors/{barcode}/entry-status:
    put:
      summary: 대회 운영에 입장 - 바코드로 참가선수 입장확인 - notion 실시간 소켓 확인
      description: 바코드로 특정 선수의 입장 여부를 확인 및 처리한다.
      tags:
        - 운영 - 입장
      parameters:
        - name: barcode
          in: path
          required: true
          schema:
            type: string
          description: 참가선수 식별용 바코드
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    nullable: true
                  error:
                    type: string
                    nullable: true
              examples:
                SUCCESS:
                  summary: 성공 응답
                  value:
                    {
                      "success": true,
                      "data": null,
                      "error": null
                    }
                INVALID_ARGUMENT_ERROR:
                  $ref: '../../openapi.yml#/components/examples/INVALID_ARGUMENT_ERROR'
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                $ref: '../../openapi.yml#/components/responses/Error'
              examples:
                IS_NOT_AUTHORIZED:
                  $ref: '../../openapi.yml#/components/examples/IS_NOT_AUTHORIZED'


