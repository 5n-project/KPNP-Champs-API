paths:
  /competitions/{competitionSeq}/documents/detail/ENTRIES_BY_DIVISION:
    get:
      summary: ENTRIES_BY_DIVISION 품새 문서 상세 조회 (ENTRIES_BY_DIVISION)
      description: ENTRIES_BY_DIVISION 문서를 조회한다. (documentType 은 항상 'ENTRIES_BY_DIVISION')
      tags:
        - 문서
      parameters:
        - name: competitionSeq
          in: path
          required: true
          schema:
            type: integer
          description: 대회의 고유 시퀀스
        - name: documentType
          in: path
          required: true
          schema:
            type: string
          description: 조회할 documentType
          example: ENTRIES_BY_DIVISION

        - name: competitionEventSeq
          in: query
          required: true
          schema:
            type: integer
          description: 룰 조합 seq
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: "#/components/schemas/CompetitionEntriesResponse"
                  error:
                    type: string
                    nullable: true
              examples:
                국제 대회 entries by division 리스트:
                  $ref: "#/components/examples/InternationalCompetitionList"
                로컬 대회 entries by division 리스트:
                  $ref: "#/components/examples/LocalCompetitionList"
                COMPETITION_PARTICIPATE_NOT_CONFIRM_ERROR:
                  $ref: '../../../openapi.yml/#/components/examples/COMPETITION_PARTICIPATE_NOT_CONFIRM_ERROR'
                ITEM_NOT_FOUND:
                  $ref: '../../../openapi.yml/#/components/examples/ITEM_NOT_FOUND'
                DOCUMENT_NOT_FOUND:
                  $ref: '../../../openapi.yml/#/components/examples/DOCUMENT_NOT_FOUND'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../../../openapi.yml#/components/responses/Error'
              examples:
                INVALID_TYPE_ERROR:
                  $ref: '../../../openapi.yml#/components/examples/INVALID_TYPE_ERROR'
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                $ref: '../../../openapi.yml#/components/responses/Error'
              examples:
                IS_NOT_AUTHORIZED:
                  $ref: '../../../openapi.yml#/components/examples/IS_NOT_AUTHORIZED'

components:
  schemas:
    CompetitionEntriesResponse:
      type: object
      additionalProperties: false
      required: [header, contents]
      properties:
        header:
          $ref: "#/components/schemas/CompetitionHeader"
        contents:
          type: array
          minItems: 1
          items:
            $ref: "#/components/schemas/NocGroup"

    CompetitionHeader:
      type: object
      additionalProperties: false
      required:
        - documentName
        - competitionHostName
        - competitionLocalType
        - isTeam
        - competitionName
        - competitionSdate
        - timeZoneId
        - nocType
        - divisionName
        - departmentName
        - divisionCategoryName
      properties:
        documentName:
          type: string
          description: 문서 이름
        competitionHostName:
          type: string
          description: Host identifier or name
        competitionLocalType:
          type: string
          description: "L 로컬대회 <br> W 국제대회 (noc가 null)"
          enum: [L, W]
          minLength: 1
          maxLength: 1
        isTeam:
          type: boolean
          description: Whether the division is a team event
        competitionName:
          type: string
        competitionSdate:
          type: string
          format: date-time
          description: 대회 시작 날짜
        timeZoneId:
          type: string
          description: 대회장 타임존 (IANA Time Zone)
        nocType:
          type: string
          description: 3-letter NOC code of the host (ISO-like)
          pattern: "^[A-Z]{3}$"
        divisionName:
          type: string
        departmentName:
          type: string
        divisionCategoryName:
          type: string
        hostLogoUrl:
          type: string
          format: uri
        competitionLogUrl:
          type: string
          format: uri

    NocGroup:
      type: object
      additionalProperties: false
      required: [noc, competitors]
      properties:
        noc:
          type: string
          description: 참가자의 noc, 로컬 대회일 때는 null
          nullable: true
          pattern: "^[A-Z]{3}$"
        competitors:
          type: array
          minItems: 1
          items:
            $ref: "#/components/schemas/Competitor"

    Competitor:
      type: object
      additionalProperties: false
      required:
        - gender
        - familyNameEn
        - givenNameEn
        - ranking
        - seed
      properties:
        gender:
          type: string
          enum: [M, F]
        familyNameEn:
          type: string
        givenNameEn:
          type: string
        licenseNumber:
          type: string
          description: yyyyMMdd
          pattern: "^[0-9]{8}$"
        ranking:
          type: integer
          minimum: 0
        seed:
          type: integer
          minimum: 0
  examples:
    InternationalCompetitionList:
      summary: 국제 대회 entries by division 리스트
      value:
        {
          "header": {
            "documentName": "ENTRIES BY DIVISION",
            "competitionHostName": "champs4",
            "competitionLocalType": "W",
            "isTeam": true,
            "competitionName": "champs4 대회 250826_1",
            "competitionSdate": "2025-08-26T03:00:00.000+09:00",
            "timeZoneId": "Antarctica/Rothera",
            "nocType": "ATA",
            "divisionName": "WT Recognized Poomsae",
            "departmentName": "Cadet",
            "divisionCategoryName": "Team female",
            "hostLogoUrl": "https://cdn.kpnpglobal.com/kpnp/media/image/champs/2025/07/d333ab8e285a4a4aaf4349102253ad23.PNG",
            "competitionLogUrl": "https://cdn.kpnpglobal.com/kpnp/media/image/champs/2025/07/26334ff5b1e04bf392f5e712cd0f6b3e.PNG"
          },
          "contents": [
            {
              "noc": "GER",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Mina",
                  "licenseNumber": null,
                  "ranking": 23,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Hana",
                  "licenseNumber": "L100069",
                  "ranking": 24,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "Yuri",
                  "licenseNumber": "L100070",
                  "ranking": 25,
                  "seed": 0
                }
              ]
            },
            {
              "noc": "ALG",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Tanaka",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100047",
                  "ranking": 2,
                  "seed": 1
                },
                {
                  "gender": "M",
                  "familyNameEn": "Wang",
                  "givenNameEn": "Minsoo",
                  "licenseNumber": "L100048",
                  "ranking": 3,
                  "seed": 1
                },
                {
                  "gender": "M",
                  "familyNameEn": "Park",
                  "givenNameEn": "John",
                  "licenseNumber": null,
                  "ranking": 4,
                  "seed": 1
                }
              ]
            },
            {
              "noc": "ARG",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Yang",
                  "givenNameEn": "Nina",
                  "licenseNumber": "L100059",
                  "ranking": 14,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Smith",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100060",
                  "ranking": 15,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Garcia",
                  "givenNameEn": "Hana",
                  "licenseNumber": "L100061",
                  "ranking": 16,
                  "seed": 0
                }
              ]
            },
            {
              "noc": "ANT",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Tanaka",
                  "givenNameEn": "Emma",
                  "licenseNumber": "L100056",
                  "ranking": 11,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Park",
                  "givenNameEn": "Yuna",
                  "licenseNumber": "L100057",
                  "ranking": 12,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Alex",
                  "licenseNumber": "L100058",
                  "ranking": 13,
                  "seed": 0
                }
              ]
            },
            {
              "noc": "ALB",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "David",
                  "licenseNumber": "L100044",
                  "ranking": 13,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Silva",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100045",
                  "ranking": 14,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Sam",
                  "licenseNumber": "L100046",
                  "ranking": 1,
                  "seed": 0
                }
              ]
            },
            {
              "noc": "AFG",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "Emma",
                  "licenseNumber": "L100041",
                  "ranking": 10,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Silva",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100042",
                  "ranking": 11,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Luke",
                  "licenseNumber": "L100043",
                  "ranking": 12,
                  "seed": 0
                }
              ]
            },
            {
              "noc": "AND",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Zhang",
                  "givenNameEn": "Nina",
                  "licenseNumber": "L100050",
                  "ranking": 5,
                  "seed": 2
                },
                {
                  "gender": "M",
                  "familyNameEn": "Patel",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100051",
                  "ranking": 6,
                  "seed": 2
                },
                {
                  "gender": "M",
                  "familyNameEn": "Lim",
                  "givenNameEn": "Sara",
                  "licenseNumber": "L100052",
                  "ranking": 7,
                  "seed": 2
                }
              ]
            },
            {
              "noc": "ANG",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "Julie",
                  "licenseNumber": "L100053",
                  "ranking": 8,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Park",
                  "givenNameEn": "John",
                  "licenseNumber": "L100054",
                  "ranking": 9,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Silva",
                  "givenNameEn": "Yuna",
                  "licenseNumber": "L100055",
                  "ranking": 10,
                  "seed": 0
                }
              ]
            },
            {
              "noc": "ARU",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100065",
                  "ranking": 20,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Kim",
                  "givenNameEn": "Yuna",
                  "licenseNumber": "L100066",
                  "ranking": 21,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Nguyen",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100067",
                  "ranking": 22,
                  "seed": 0
                }
              ]
            },
            {
              "noc": "ARM",
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Chen",
                  "givenNameEn": "Alex",
                  "licenseNumber": "L100062",
                  "ranking": 17,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Nina",
                  "licenseNumber": "L100063",
                  "ranking": 18,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100064",
                  "ranking": 19,
                  "seed": 0
                }
              ]
            }
          ]
        }
    LocalCompetitionList:
      summary: 로컬 대회 entries by division 리스트
      value:
        {
          "header": {
            "documentName": "ENTRIES BY DIVISION",
            "competitionHostName": "champs4",
            "competitionLocalType": "W",
            "isTeam": true,
            "competitionName": "champs4 대회 250826_1",
            "competitionSdate": "2025-08-26T03:00:00.000+09:00",
            "timeZoneId": "Antarctica/Rothera",
            "nocType": "ATA",
            "divisionName": "WT Recognized Poomsae",
            "departmentName": "Cadet",
            "divisionCategoryName": "Team female",
            "hostLogoUrl": "https://cdn.kpnpglobal.com/kpnp/media/image/champs/2025/07/d333ab8e285a4a4aaf4349102253ad23.PNG",
            "competitionLogUrl": "https://cdn.kpnpglobal.com/kpnp/media/image/champs/2025/07/26334ff5b1e04bf392f5e712cd0f6b3e.PNG"
          },
          "contents": [
            {
              "noc": null,
              "competitors": [
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "Emma",
                  "licenseNumber": null,
                  "ranking": 10,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Silva",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100042",
                  "ranking": 11,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Luke",
                  "licenseNumber": "L100043",
                  "ranking": 12,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "David",
                  "licenseNumber": null,
                  "ranking": 13,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Silva",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100045",
                  "ranking": 14,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Sam",
                  "licenseNumber": "L100046",
                  "ranking": 1,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Tanaka",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100047",
                  "ranking": 2,
                  "seed": 1
                },
                {
                  "gender": "M",
                  "familyNameEn": "Wang",
                  "givenNameEn": "Minsoo",
                  "licenseNumber": "L100048",
                  "ranking": 3,
                  "seed": 1
                },
                {
                  "gender": "M",
                  "familyNameEn": "Park",
                  "givenNameEn": "John",
                  "licenseNumber": "L100049",
                  "ranking": 4,
                  "seed": 1
                },
                {
                  "gender": "M",
                  "familyNameEn": "Zhang",
                  "givenNameEn": "Nina",
                  "licenseNumber": "L100050",
                  "ranking": 5,
                  "seed": 2
                },
                {
                  "gender": "M",
                  "familyNameEn": "Patel",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100051",
                  "ranking": 6,
                  "seed": 2
                },
                {
                  "gender": "M",
                  "familyNameEn": "Lim",
                  "givenNameEn": "Sara",
                  "licenseNumber": null,
                  "ranking": 7,
                  "seed": 2
                },
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "Julie",
                  "licenseNumber": "L100053",
                  "ranking": 8,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Park",
                  "givenNameEn": "John",
                  "licenseNumber": "L100054",
                  "ranking": 9,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Silva",
                  "givenNameEn": "Yuna",
                  "licenseNumber": "L100055",
                  "ranking": 10,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Tanaka",
                  "givenNameEn": "Emma",
                  "licenseNumber": "L100056",
                  "ranking": 11,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Park",
                  "givenNameEn": "Yuna",
                  "licenseNumber": "L100057",
                  "ranking": 12,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Alex",
                  "licenseNumber": "L100058",
                  "ranking": 13,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yang",
                  "givenNameEn": "Nina",
                  "licenseNumber": "L100059",
                  "ranking": 14,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Smith",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100060",
                  "ranking": 15,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Garcia",
                  "givenNameEn": "Hana",
                  "licenseNumber": "L100061",
                  "ranking": 16,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Chen",
                  "givenNameEn": "Alex",
                  "licenseNumber": "L100062",
                  "ranking": 17,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Nina",
                  "licenseNumber": "L100063",
                  "ranking": 18,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100064",
                  "ranking": 19,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100065",
                  "ranking": 20,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Kim",
                  "givenNameEn": "Yuna",
                  "licenseNumber": "L100066",
                  "ranking": 21,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Nguyen",
                  "givenNameEn": "Ken",
                  "licenseNumber": "L100067",
                  "ranking": 22,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Yamamoto",
                  "givenNameEn": "Mina",
                  "licenseNumber": "L100068",
                  "ranking": 23,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Choi",
                  "givenNameEn": "Hana",
                  "licenseNumber": "L100069",
                  "ranking": 24,
                  "seed": 0
                },
                {
                  "gender": "M",
                  "familyNameEn": "Clark",
                  "givenNameEn": "Yuri",
                  "licenseNumber": "L100070",
                  "ranking": 25,
                  "seed": 0
                }
              ]
            }
          ]
        }