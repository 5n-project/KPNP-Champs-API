paths:
  /competitions/{competitionSeq}/documents/detail/CONTEST_RESULTS_OF_CUTOFF:
    get:
      summary: CONTEST_RESULTS_OF_CUTOFF 품새 문서 상세 조회 (CONTEST_RESULTS_OF_CUTOFF)
      description: CONTEST_RESULTS_OF_CUTOFF 문서를 조회한다. (documentType 은 항상 'CONTEST_RESULTS_OF_CUTOFF')
      tags:
        - 문서
      parameters:
        - name: competitionSeq
          in: path
          required: true
          schema:
            type: integer
          description: 대회의 고유 시퀀스
        - name: documentType
          in: path
          required: true
          schema:
            type: string
          description: 조회할 documentType
          example: CONTEST_RESULTS_OF_CUTOFF

        - name: competitionEventSeq
          in: query
          required: true
          schema:
            type: integer
          description: 룰 조합 seq
        - name: phaseType
          in: query
          required: true
          schema:
            type: string
          description: phase
      responses:
        '200':
          description: 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  data:
                    $ref: "#/components/schemas/CompetitionResults"
                  error:
                    type: string
                    nullable: true
              examples:
                컷오프_개인:
                  $ref: "#/components/examples/Individual"
                ITEM_NOT_FOUND:
                  $ref: '../../../openapi.yml/#/components/examples/ITEM_NOT_FOUND'
                COMPETITION_MATCH_NOT_FOUND:
                  $ref: '../../../openapi.yml/#/components/examples/COMPETITION_MATCH_NOT_FOUND'
                CUTOFF_GROUP_IS_NOT_END:
                  $ref: '../../../openapi.yml/#/components/examples/CUTOFF_GROUP_IS_NOT_END'
                DOCUMENT_NOT_FOUND:
                  $ref: '../../../openapi.yml/#/components/examples/DOCUMENT_NOT_FOUND'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '../../../openapi.yml#/components/responses/Error'
              examples:
                INVALID_TYPE_ERROR:
                  $ref: '../../../openapi.yml#/components/examples/INVALID_TYPE_ERROR'
        '403':
          description: 권한 없음
          content:
            application/json:
              schema:
                $ref: '../../../openapi.yml#/components/responses/Error'
              examples:
                IS_NOT_AUTHORIZED:
                  $ref: '../../../openapi.yml#/components/examples/IS_NOT_AUTHORIZED'
components:
  schemas:
    CompetitionResults:
      type: object
      description: ""
      required:
        - header
        - contents
      properties:
        header:
          $ref: "#/components/schemas/CompetitionHeader"
        contents:
          $ref: "#/components/schemas/CompetitionContents"
    CompetitionHeader:
      type: object
      description: ""
      required:
        - competitionHostName
        - competitionLocalType
        - isTeam
        - competitionName
        - competitionSdate
        - timeZoneId
        - nocType
        - divisionName
        - departmentName
        - divisionCategoryName
        - phase
      properties:
        competitionHostName:
          type: string
          description: "주최명"
        competitionLocalType:
          type: string
          description: "국제대회 : W, 지역대회 : L"
          example: "L"
        isTeam:
          type: boolean
          description: "해당 event가 팀전인지 아닌지"
          example: false
        competitionName:
          type: string
          example: "대회이름"
        competitionSdate:
          type: string
          example: "2025-07-22T00:00:00.000Z"
          description: "대회 시작 일자"
        timeZoneId:
          type: string
          example: "Asia/Seoul"
          description: "해당 대회 타임존 코드"
        nocType:
          type: string
          example: "KOR"
          description: "해당 대회 noc 코드"
        divisionName:
          type: string
          example: "WT Recognized Poomsae"
          description: "룰명"
        departmentName:
          type: string
          example: "Under 30"
          description: "부명"
        divisionCategoryName:
          type: string
          example: "Individual female"
          description: "대회유형명"
        hostLogoUrl:
          type: string
          description: "주최로고 url"
        competitionLogUrl:
          type: string
          description: "대회로고 url"
        phase:
          type: string
          description: "phase"
    CompetitionContents:
      type: object
      description: ""
      required:
        - divisionType
        - matchResults
      properties:
        divisionType:
          type: string
          description: "대회 룰"
        matchResults:
          type: array
          description: "문서 데이터"
          items:
            $ref: "#/components/schemas/MatchResult"
    MatchResult:
      type: object
      description: ""
      required:
        - matchNumber
        - rank
        - noc
        - team
        - participants
        - score
      properties:
        matchNumber:
          type: integer
          description: "대진 번호"
        rank:
          type: integer
          description: "컷오프 조에서 순위 (0이면 resultDecision 사용 필요)"
        resultDecision:
          type: string
          nullable: true
          description: "match 결과 코드 (rank가 0이면 이 값 사용 필요)<br> 결승은 rank가 0이 아니면 null"
        noc:
          type: string
          description: "noc type"
        team:
          type: string
          description: "국제 대회일 때 NOC, 로컬 대회일 때 팀 이름"
        participants:
          type: array
          description: "팀 또는 개인 참가자 (개인일 때 길이 1)"
          items:
            $ref: "#/components/schemas/Participant"
        score:
          $ref: "#/components/schemas/Score"
    Participant:
      type: object
      required:
        - familyNameEn
        - givenNameEn
      properties:
        familyNameEn:
          type: string
        givenNameEn:
          type: string
    Score:
      type: object
      description: "total 점수"
      required:
        - scoringCriteriaScore
        - averageScore
        - totalScore
        - scoreDetails
      properties:
        scoringCriteriaScore:
          $ref: "#/components/schemas/ScoringCriteriaScore"
        averageScore:
          type: number
          format: double
          description: "P1+P2의 scoringCriteriaScore 평균 점수"
        totalScore:
          type: number
          format: double
          description: "P1+P2의 total score의 합"
        scoreDetails:
          type: array
          description: "P1, P2 상세점수"
          items:
            $ref: "#/components/schemas/ScoreDetail"
    ScoringCriteriaScore:
      type: object
      description: ""
      properties:
        presentation:
          type: number
          format: double
          nullable: true
          description: "공인 품새 표현력 점수 합계"
        accuracy:
          type: number
          format: double
          nullable: true
          description: "공인 품새 정확성 점수 합계"
        technicalSkills:
          type: number
          format: double
          description: "자유 품새 기술력 점수 합계"
        presentationFreestyle:
          type: number
          format: double
          description: "자유 품새 표현력 점수 합계"
    ScoreDetail:
      type: object
      description: ""
      required:
        - sequenceType
        - scoringCriteriaScore
        - score
        - totalScore
        - deduction
      properties:
        sequenceType:
          type: string
          description: ""
        scoringCriteriaScore:
          $ref: "#/components/schemas/ScoringCriteriaScoreDetail"
        score:
          type: number
          format: double
          description: "scoringCriteriaScore 의 합의 평균"
        totalScore:
          type: number
          format: double
          description: "scoringCriteriaScore 의 전체 점수의 합"
        deduction:
          type: number
          format: double
          description: "감점"
    ScoringCriteriaScoreDetail:
      type: object
      properties:
        presentation:
          type: number
          format: double
          nullable: true
          description: "공인 품새 표현력 점수의 평균"
        accuracy:
          type: number
          format: double
          nullable: true
          description: "공인 품새 정확성 점수의 평균"
        technicalSkills:
          type: number
          format: double
          description: "자유 품새 기술력 점수의 평균"
        presentationFreestyle:
          type: number
          format: double
          description: "자유 품새 표현력 점수의 평균"
  examples:
    Individual:
      summary: 컷오프 개인
      value:
        {
          "header": {
              "competitionHostName": "메인",
              "competitionLocalType": "W",
              "isTeam": false,
              "competitionName": "자유 단체 테스트",
              "competitionSdate": "2025-08-12T04:00:00.000+09:00",
              "timeZoneId": "America/Cuiaba",
              "nocType": "BRA",
              "divisionName": "Free Style Poomsae",
              "departmentName": "Under 17",
              "divisionCategoryName": "Individual male",
              "phase": "Final"
          },
          "contents": {
              "divisionType": "FREE_STYLE_POOMSAE",
              "matchResults": [
                  {
                      "matchNumber": 1034,
                      "rank": 1,
                      "resultDecision": null,
                      "noc": "KOR",
                      "team": "India_U17_IM_17",
                      "participants": [
                          {
                              "familyNameEn": "Garcia",
                              "givenNameEn": "Sara"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 7.666,
                              "presentationFreestyle": 7
                          },
                          "averageScore": 7.333,
                          "totalScore": 51.8,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 3.466,
                                      "presentationFreestyle": 3.4
                                  },
                                  "score": 6.866,
                                  "totalScore": 20.6,
                                  "deduction": 0
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 4.2,
                                      "presentationFreestyle": 3.6
                                  },
                                  "score": 7.8,
                                  "totalScore": 31.2,
                                  "deduction": 0
                              }
                          ]
                      }
                  },
                  {
                      "matchNumber": 1037,
                      "rank": 3,
                      "resultDecision": null,
                      "noc": "KOR",
                      "team": "Australia_U17_IM_04",
                      "participants": [
                          {
                              "familyNameEn": "Park",
                              "givenNameEn": "Elena"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 7.35,
                              "presentationFreestyle": 7.025
                          },
                          "averageScore": 7.187,
                          "totalScore": 57.5,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 4.35,
                                      "presentationFreestyle": 3.25
                                  },
                                  "score": 7.6,
                                  "totalScore": 30.4,
                                  "deduction": 0
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 3,
                                      "presentationFreestyle": 3.775
                                  },
                                  "score": 6.775,
                                  "totalScore": 27.1,
                                  "deduction": 0
                              }
                          ]
                      }
                  },
                  {
                      "matchNumber": 1038,
                      "rank": 4,
                      "resultDecision": null,
                      "noc": "KOR",
                      "team": "Morocco_U17_IM_12",
                      "participants": [
                          {
                              "familyNameEn": "Yamamoto",
                              "givenNameEn": "Ken"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 7.116,
                              "presentationFreestyle": 6.191
                          },
                          "averageScore": 6.653,
                          "totalScore": 46.8,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 3.65,
                                      "presentationFreestyle": 3.225
                                  },
                                  "score": 6.875,
                                  "totalScore": 27.5,
                                  "deduction": 0
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 3.466,
                                      "presentationFreestyle": 2.966
                                  },
                                  "score": 6.432,
                                  "totalScore": 19.3,
                                  "deduction": 0
                              }
                          ]
                      }
                  },
                  {
                      "matchNumber": 1032,
                      "rank": 5,
                      "resultDecision": null,
                      "noc": "KOR",
                      "team": "Mexico_U17_IM_13",
                      "participants": [
                          {
                              "familyNameEn": "Patel",
                              "givenNameEn": "Julie"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 6.5,
                              "presentationFreestyle": 6
                          },
                          "averageScore": 6.25,
                          "totalScore": 50,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 2,
                                      "presentationFreestyle": 2.825
                                  },
                                  "score": 4.825,
                                  "totalScore": 19.3,
                                  "deduction": 0
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 4.5,
                                      "presentationFreestyle": 3.175
                                  },
                                  "score": 7.675,
                                  "totalScore": 30.7,
                                  "deduction": 0
                              }
                          ]
                      }
                  },
                  {
                      "matchNumber": 1031,
                      "rank": 6,
                      "resultDecision": null,
                      "noc": "KOR",
                      "team": "Mexico_U17_IM_01",
                      "participants": [
                          {
                              "familyNameEn": "Kim",
                              "givenNameEn": "Julie"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 5.425,
                              "presentationFreestyle": 5.35
                          },
                          "averageScore": 5.387,
                          "totalScore": 43.1,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 2.55,
                                      "presentationFreestyle": 2.25
                                  },
                                  "score": 4.8,
                                  "totalScore": 19.2,
                                  "deduction": 0
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 2.875,
                                      "presentationFreestyle": 3.1
                                  },
                                  "score": 5.975,
                                  "totalScore": 23.9,
                                  "deduction": 0
                              }
                          ]
                      }
                  },
                  {
                      "matchNumber": 1033,
                      "rank": 7,
                      "resultDecision": null,
                      "noc": "KOR",
                      "team": "Argentina_U17_IM_15",
                      "participants": [
                          {
                              "familyNameEn": "Garcia",
                              "givenNameEn": "Paul"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 8.725,
                              "presentationFreestyle": 6.325
                          },
                          "averageScore": 4.225,
                          "totalScore": 33.8,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 4,
                                      "presentationFreestyle": 3.1
                                  },
                                  "score": 0.5,
                                  "totalScore": 2,
                                  "deduction": 6.6
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 4.725,
                                      "presentationFreestyle": 3.225
                                  },
                                  "score": 7.95,
                                  "totalScore": 31.8,
                                  "deduction": 0
                              }
                          ]
                      }
                  },
                  {
                      "matchNumber": 1035,
                      "rank": 8,
                      "resultDecision": null,
                      "noc": "KOR",
                      "team": "Japan_U17_IM_14",
                      "participants": [
                          {
                              "familyNameEn": "Lopez",
                              "givenNameEn": "Yuri"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 7.775,
                              "presentationFreestyle": 5.991
                          },
                          "averageScore": 4.183,
                          "totalScore": 32.2,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 3.8,
                                      "presentationFreestyle": 2.866
                                  },
                                  "score": 1.266,
                                  "totalScore": 3.8,
                                  "deduction": 5.4
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 3.975,
                                      "presentationFreestyle": 3.125
                                  },
                                  "score": 7.1,
                                  "totalScore": 28.4,
                                  "deduction": 0
                              }
                          ]
                      }
                  },
                  {
                      "matchNumber": 1036,
                      "rank": 0,
                      "resultDecision": "WDR",
                      "noc": "KOR",
                      "team": "India_U17_IM_05",
                      "participants": [
                          {
                              "familyNameEn": "Yamamoto",
                              "givenNameEn": "Hana"
                          }
                      ],
                      "score": {
                          "scoringCriteriaScore": {
                              "presentation": null,
                              "accuracy": null,
                              "technicalSkills": 0,
                              "presentationFreestyle": 0
                          },
                          "averageScore": 0,
                          "totalScore": 0,
                          "scoreDetails": [
                              {
                                  "sequenceType": "P1",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 0,
                                      "presentationFreestyle": 0
                                  },
                                  "score": 0,
                                  "totalScore": 0,
                                  "deduction": 0
                              },
                              {
                                  "sequenceType": "P2",
                                  "scoringCriteriaScore": {
                                      "presentation": null,
                                      "accuracy": null,
                                      "technicalSkills": 0,
                                      "presentationFreestyle": 0
                                  },
                                  "score": 0,
                                  "totalScore": 0,
                                  "deduction": 0
                              }
                          ]
                      }
                  }
              ]
          }
      }